@startuml RestMan_PackageDiagram
!theme plain
title Hình 3.7: Biểu đồ gói - Hệ thống RestMan

package "RestMan System" {
    package "Presentation Layer" {
        [DishSearchController]
        [PaymentController]
        [CustomerController]
        [StaffController]
        [ManagerController]
    }
    
    package "Business Logic Layer" {
        package "Dish Management" {
            [DishService]
            [IngredientService]
            [CategoryService]
        }
        
        package "Order Management" {
            [OrderService]
            [PaymentService]
            [InvoiceService]
        }
        
        package "Customer Management" {
            [CustomerService]
            [ReservationService]
            [MembershipService]
        }
        
        package "Staff Management" {
            [StaffService]
            [AuthenticationService]
            [AuthorizationService]
        }
        
        package "Inventory Management" {
            [InventoryService]
            [SupplierService]
            [StockService]
        }
        
        package "Reporting" {
            [StatisticsService]
            [ReportService]
        }
    }
    
    package "Data Access Layer" {
        package "Repositories" {
            [DishRepository]
            [OrderRepository]
            [CustomerRepository]
            [StaffRepository]
            [IngredientRepository]
            [SupplierRepository]
            [TableRepository]
            [InvoiceRepository]
        }
        
        package "Data Transfer Objects" {
            [DishDTO]
            [OrderDTO]
            [CustomerDTO]
            [StaffDTO]
            [InvoiceDTO]
        }
    }
    
    package "Domain Model" {
        [Member]
        [Customer]
        [Staff]
        [Dish]
        [Order]
        [Ingredient]
        [Supplier]
        [Table]
        [Invoice]
        [Reservation]
    }
    
    package "Utilities" {
        [DateUtils]
        [StringUtils]
        [ValidationUtils]
        [FileUtils]
    }
}

' Dependencies between packages
Presentation Layer --> Business Logic Layer
Business Logic Layer --> Data Access Layer
Business Logic Layer --> Domain Model
Data Access Layer --> Domain Model
Presentation Layer --> Data Transfer Objects

' Specific dependencies
DishSearchController --> DishService
PaymentController --> PaymentService
PaymentController --> OrderService
CustomerController --> CustomerService
StaffController --> StaffService
ManagerController --> StatisticsService

DishService --> DishRepository
OrderService --> OrderRepository
CustomerService --> CustomerRepository
StaffService --> StaffRepository
PaymentService --> InvoiceService

@enduml
